[[running-tests]]
== ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

[[running-tests-ide]]
=== IDE ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

[[running-tests-ide-intellij-idea]]
==== IntelliJ IDEA

// IntelliJ IDEA supports running tests on the JUnit Platform since version 2016.2. For
// details please see the
// https://blog.jetbrains.com/idea/2016/08/using-junit-5-in-intellij-idea/[post on theIntelliJ IDEA blog]. Note, however, that it is recommended to use IDEA 2017.3 or newer
// since these newer versions of IDEA will download the following JARs automatically based
// on the API version used in the project: `junit-platform-launcher`,
// `junit-jupiter-engine`, and `junit-vintage-engine`.
IntelliJ IDEA ã¯ 2016.2 ã‹ã‚‰ JUnit Platform ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
è©³ã—ãã¯ https://blog.jetbrains.com/idea/2016/08/using-junit-5-in-intellij-idea/[IntelliJ IDEA ãƒ–ãƒ­ã‚°ã®æŠ•ç¨¿] ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
ãŸã ã—ã€å®Ÿéš›ã«ã¯ IntelliJ IDEA 2017.3 ã‚ˆã‚Šæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ `junit-platform-launcher, junit-jupiter-engine, junit-vintage-engine` ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å¯¾å¿œã—ãŸ jar ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•çš„ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚

// WARNING: IntelliJ IDEA releases prior to IDEA 2017.3 bundle specific versions of JUnit 5.
// Thus, if you want to use a newer version of JUnit Jupiter, execution of tests within the
// IDE might fail due to version conflicts. In such cases, please follow the instructions
// below to use a newer version of JUnit 5 than the one bundled with IntelliJ IDEA.
WARNING: 2017.3 ã‚ˆã‚Šå‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® IntelliJ IDEA ã¯ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® JUnit 5 ãŒåŒæ¢±ã—ã¦ã„ã¾ã™ã€‚
ã§ã™ã‹ã‚‰ã€ãã‚Œã‚ˆã‚Šæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® JUnit Jupiter ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒåŒæ™‚ã«å­˜åœ¨ã™ã‚‹ã“ã¨ã«ãªã‚Šã€è¡çªã—ã¦ã—ã¾ã†ã‹ã‚‰ã§ã™ã€‚
ãã†ã„ã†å ´åˆã¯ã€æ¬¡ã®æ‰‹é †ã«å¾“ã£ã¦ã€IntelliJ IDEA ã®åŒæ¢±ã™ã‚‹ JUnit 5 ã‚ˆã‚Šæ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

// In order to use a different JUnit 5 version (e.g., {jupiter-version}), you may need to
// include the corresponding versions of the `junit-platform-launcher`,
// `junit-jupiter-engine`, and `junit-vintage-engine` JARs in the classpath.
IDE ã®åŒæ¢±ã™ã‚‹ JUnit 5 ã¨ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä¾‹ãˆã° {jupiter-version}ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€å¯¾å¿œã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® `junit-platform-launcher, junit-jupiter-engine, junit-vintage-engine` ã® jar ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã«é…ç½®ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

// .Additional Gradle Dependencies
.Gradle ã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ ã™ã‚‹
[source,groovy]
[subs=attributes+]
----
testImplementation(platform("org.junit:junit-bom:{bom-version}"))
// Only needed to run tests in a version of IntelliJ IDEA that bundles older versions
testRuntimeOnly("org.junit.platform:junit-platform-launcher")
testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine")
testRuntimeOnly("org.junit.vintage:junit-vintage-engine")
----

// .Additional Maven Dependencies
.Maven ã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ ã™ã‚‹
[source,xml]
[subs=attributes+]
----
<!-- ... -->
<dependencies>
	<!-- Only needed to run tests in a version of IntelliJ IDEA that bundles older versions -->
	<dependency>
		<groupId>org.junit.platform</groupId>
		<artifactId>junit-platform-launcher</artifactId>
		<scope>test</scope>
	</dependency>
	<dependency>
		<groupId>org.junit.jupiter</groupId>
		<artifactId>junit-jupiter-engine</artifactId>
		<scope>test</scope>
	</dependency>
	<dependency>
		<groupId>org.junit.vintage</groupId>
		<artifactId>junit-vintage-engine</artifactId>
		<scope>test</scope>
	</dependency>
</dependencies>
<dependencyManagement>
	<dependencies>
		<dependency>
			<groupId>org.junit</groupId>
			<artifactId>junit-bom</artifactId>
			<version>{bom-version}</version>
			<type>pom</type>
			<scope>import</scope>
		</dependency>
	</dependencies>
</dependencyManagement>
----

[[running-tests-ide-eclipse]]
==== Eclipse

// Eclipse IDE offers support for the JUnit Platform since the Eclipse Oxygen.1a (4.7.1a)
// release.
Eclipse IDE ã¯ Eclipse Oxygen.1a (4.7.1a) ã‹ã‚‰ JUnit Platform ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

// For more information on using JUnit 5 in Eclipse consult the official _Eclipse support
// for JUnit 5_ section of the
// https://www.eclipse.org/eclipse/news/4.7.1a/#junit-5-support[Eclipse Project Oxygen.1a (4.7.1a) - New and Noteworthy] documentation.
è©³ã—ã„ä½¿ã„æ–¹ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® https://www.eclipse.org/eclipse/news/4.7.1a/#junit-5-support[Eclipse Project Oxygen.1a (4.7.1a) - New and Noteworthy] _Eclipse support for JUnit 5_ ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[[running-tests-ide-netbeans]]
==== NetBeans

// NetBeans offers support for JUnit Jupiter and the JUnit Platform since the
// https://netbeans.apache.org/download/nb100/nb100.html[Apache NetBeans 10.0 release].
NetBeans ã¯ https://netbeans.apache.org/download/nb100/nb100.html[Apache NetBeans 10.0 release] ã‹ã‚‰ JUnit Platform ã§ JUnit Jupiter ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

// For more information consult the JUnit 5 section of the
// https://netbeans.apache.org/download/nb100/index.html#_junit_5[Apache NetBeans 10.0
// release notes].
è©³ã—ã„ä½¿ã„æ–¹ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® https://netbeans.apache.org/download/nb100/index.html#_junit_5[Apache NetBeans 10.0 release notes] _JUnit 5_ ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[[running-tests-ide-vscode]]
==== Visual Studio Code

// https://code.visualstudio.com/[Visual Studio Code] supports JUnit Jupiter and the JUnit
// Platform via the
// https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test[Java Test
// Runner] extension which is installed by default as part of the
// https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack[Java
// Extension Pack].
https://code.visualstudio.com/[Visual Studio Code] ã§ã¯ã€ https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test[Java Test Runner æ‹¡å¼µ] ã‚’ä½¿ã†ã¨ JUnit Platform ã§ JUnit Jupiter ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚
Java Test Runner æ‹¡å¼µã¯ https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack[Java Extension Pack] ã®ä¸€éƒ¨ã¨ã—ã¦ä¸€ç·’ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚

// For more information consult the _Testing_ section of the
// https://code.visualstudio.com/docs/languages/java#_testing[Java in Visual Studio Code]
// documentation.
è©³ã—ã„ä½¿ã„æ–¹ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® https://code.visualstudio.com/docs/languages/java#_testing[Java in Visual Studio Code] _Testing_ ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[[running-tests-ide-other]]
==== ä»–ã® IDE

// If you are using an editor or IDE other than one of those listed in the previous sections,
// the JUnit team provides two alternative solutions to assist you in using JUnit 5. You can
// use the <<running-tests-console-launcher>> manually -- for example, from the command line
// -- or execute tests with a <<running-tests-junit-platform-runner,JUnit 4 based Runner>> if
// your IDE has built-in support for JUnit 4.
å‰è¿°ã—ãŸä»¥å¤–ã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã‚„ IDE ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®ãŸã‚ã€JUnit ãƒãƒ¼ãƒ ã¯ JUnit 5 ã®ä½¿ç”¨ã‚’æ”¯æ´ã™ã‚‹2ç¨®é¡ã®æ–¹æ³•ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚
1ã¤ã¯ <<running-tests-console-launcher>> ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã§ã™ã€‚
ã‚‚ã†1ã¤ã¯ <<running-tests-junit-platform-runner,JUnit 4 based Runner>> ã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã§ã€ã“ã¡ã‚‰ã¯ã‚¨ãƒ‡ã‚£ã‚¿ã‚„ IDE ãŒ JUnit 4 ã«å¯¾å¿œã—ã¦ã„ã‚‹å ´åˆã«ä½¿ç”¨ã§ãã‚‹æ–¹æ³•ã§ã™ã€‚

[[running-tests-build]]
=== ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

[[running-tests-build-gradle]]
==== Gradle

// [WARNING]
// .The JUnit Platform Gradle Plugin has been discontinued
[WARNING]
.JUnit Platform Gradle ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®é–‹ç™ºã¯ä¿®äº†ã—ã¾ã—ãŸ
====
// The `junit-platform-gradle-plugin` developed by the JUnit team was deprecated in JUnit
// Platform 1.2 and discontinued in 1.3. Please switch to Gradle's standard `test` task.
JUnit ãƒãƒ¼ãƒ ã®é–‹ç™ºã—ã¦ã„ãŸ `junit-platform-gradle-plugin` ã¯ JUnit Platform 1.2 ã§å»ƒæ­¢äºˆå®šã«ãªã‚Šã€1.3 ã®é–‹ç™ºã¯ä¸­æ­¢ã—ã¾ã—ãŸã€‚
ä»£ã‚ã‚Šã« Gradle ã®æ¨™æº– `test` ã‚¿ã‚¹ã‚¯ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
====

// Starting with https://docs.gradle.org/4.6/release-notes.html[version 4.6], Gradle provides
// https://docs.gradle.org/current/userguide/java_testing.html#using_junit5[native support]
// for executing tests on the JUnit Platform. To enable it, you just need to specify
// `useJUnitPlatform()` within a `test` task declaration in `build.gradle`:
Gradle ã¯ https://docs.gradle.org/4.6/release-notes.html[4.6] ã‹ã‚‰ JUnit Platform ã§ https://docs.gradle.org/current/userguide/java_testing.html#using_junit5[ç›´æ¥çš„ã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹] ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
ã“ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ `build.gradle` ã® `test` ã‚¿ã‚¹ã‚¯ã§ `useJUnitPlatform()` ã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã™ã€‚

[source,groovy,indent=0]
[subs=attributes+]
----
test {
	useJUnitPlatform()
}
----

// Filtering by <<running-tests-tags, tags>>,
// <<running-tests-tag-expressions, tag expressions>>, or engines is also supported:
<<running-tests-tags, ã‚¿ã‚°>> ã‚„ <<running-tests-tag-expressions, ã‚¿ã‚°è¨˜æ³•>> ã§å®Ÿè¡Œã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’é¸æŠã—ãŸã‚Šã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã‚’æŒ‡å®šã§ãã¾ã™ã€‚

[source,groovy,indent=0]
[subs=attributes+]
----
test {
	useJUnitPlatform {
		includeTags("fast", "smoke & feature-a")
		// excludeTags("slow", "ci")
		includeEngines("junit-jupiter")
		// excludeEngines("junit-vintage")
	}
}
----

// Please refer to the
// https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_test[official Gradle documentation]
// for a comprehensive list of options.
ä½¿ç”¨å¯èƒ½ãªå…¨ã¦ã®è¨­å®šé …ç›®ã«ã¤ã„ã¦ã¯ https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_test[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ] ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[[running-tests-build-gradle-config-params]]
===== è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ§‹æˆ

// The standard Gradle `test` task currently does not provide a dedicated DSL to set JUnit
// Platform <<running-tests-config-params, configuration parameters>> to influence test
// discovery and execution. However, you can provide configuration parameters within the
// build script via system properties (as shown below) or via the
// `junit-platform.properties` file.
ç¾åœ¨ã® Gradle ã®æ¨™æº– `test` ã‚¿ã‚¹ã‚¯ã«ã¯ã€JUnit Platform ãŒãƒ†ã‚¹ãƒˆã‚’ç™ºè¦‹ã—ãŸã‚Šå®Ÿè¡Œã—ãŸã‚Šã™ã‚‹ãŸã‚ã® <<running-tests-config-params, è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿>> ã‚’æŒ‡å®šã™ã‚‹ DSL ãŒå­˜åœ¨ã—ã¾ã›ã‚“ã€‚
ä»£ã‚ã‚Šã«ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„ `junit-platform.properties` ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®šã—ã¾ã™ã€‚

[source,groovy,indent=0]
----
test {
	// ...
	systemProperty("junit.jupiter.conditions.deactivate", "*")
	systemProperty("junit.jupiter.extensions.autodetection.enabled", true)
	systemProperty("junit.jupiter.testinstance.lifecycle.default", "per_class")
	// ...
}
----

[[running-tests-build-gradle-engines-configure]]
===== ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã®æ§‹æˆ

// In order to run any tests at all, a `TestEngine` implementation must be on the classpath.
1åº¦ã«è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã« `TestEngine` ã®å®Ÿè£…ã‚¯ãƒ©ã‚¹ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

// To configure support for JUnit Jupiter based tests, configure a `testImplementation` dependency
// on the dependency-aggregating JUnit Jupiter artifact similar to the following.
JUnit Jupiter ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€JUnit Jupiter ã®é›†ç´„ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’ `testImplementation` ä¾å­˜é–¢ä¿‚ã§æŒ‡å®šã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

[source,groovy,indent=0]
[subs=attributes+]
----
dependencies {
	testImplementation("org.junit.jupiter:junit-jupiter:{jupiter-version}")
}
----

// The JUnit Platform can run JUnit 4 based tests as long as you configure a `testImplementation`
// dependency on JUnit 4 and a `testRuntimeOnly` dependency on the JUnit Vintage `TestEngine`
// implementation similar to the following.
JUnit 4 ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆã‚’ JUnit Platform ã§å®Ÿè¡Œã™ã‚‹ã«ã¯ã€JUnit 4 ã®ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’ `testImplementation` ä¾å­˜é–¢ä¿‚ã«æŒ‡å®šã™ã‚‹ã ã‘ã§ãªãã€JUnit Vintage ã®ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’ `testRuntimeOnly` ä¾å­˜é–¢ä¿‚ã«æŒ‡å®šã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

[source,groovy,indent=0]
[subs=attributes+]
----
dependencies {
	testImplementation("junit:junit:{junit4-version}")
	testRuntimeOnly("org.junit.vintage:junit-vintage-engine:{vintage-version}")
}
----

[[running-tests-build-gradle-logging]]
===== ãƒ­ã‚°å‡ºåŠ›ã®è¨­å®šï¼ˆä»»æ„ï¼‰

// JUnit uses the Java Logging APIs in the `java.util.logging` package (a.k.a. _JUL_) to
// emit warnings and debug information. Please refer to the official documentation of
// `{LogManager}` for configuration options.
JUnit ã¯è­¦å‘Šæƒ…å ±ã‚„ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’å‡ºåŠ›ã™ã‚‹ãŸã‚ã€Java ã®æ¨™æº–ãƒ­ã‚° API ï¼ˆ`java.util.logging` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€_JUL_ ã¨å‘¼ã°ã‚Œã‚‹ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
`{LogManager}` ã®è¨­å®šæ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãã¯ https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/LogManager.html[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ] ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

// Alternatively, it's possible to redirect log messages to other logging frameworks such as
// {Log4j} or {Logback}. To use a logging framework that provides a custom implementation of
// `{LogManager}`, set the `java.util.logging.manager` system property to the _fully
// qualified class name_ of the `{LogManager}` implementation to use. The example below
// demonstrates how to configure Log4j{nbsp}2.x (see {Log4j_JDK_Logging_Adapter} for
// details).
JUL ã®ãƒ­ã‚°å‡ºåŠ›ã¯ {Log4j} ã‚„ {Logback} ã®ã‚ˆã†ãªãƒ­ã‚®ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¸è»¢é€ã§ãã¾ã™ã€‚
ä½¿ç”¨ã™ã‚‹ãƒ­ã‚®ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒ `{LogManager}` ã®å®Ÿè£…ã‚¯ãƒ©ã‚¹ã‚’æä¾›ã—ã¦ã„ã‚‹å ´åˆã€ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã® `java.util.logging.manager` ã¸ _å®Œå…¨ä¿®é£¾ã‚¯ãƒ©ã‚¹å_ ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚
Log4j{nbsp}2.x ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ï¼ˆè©³ã—ãã¯ {Log4j_JDK_Logging_Adapter} ã‚’å‚ç…§ï¼‰ã€‚

[source,groovy,indent=0]
[subs=attributes+]
----
test {
	systemProperty("java.util.logging.manager", "org.apache.logging.log4j.jul.LogManager")
}
----

// Other logging frameworks provide different means to redirect messages logged using
// `java.util.logging`. For example, for {Logback} you can use the
// https://www.slf4j.org/legacy.html#jul-to-slf4j[JUL to SLF4J Bridge] by adding an
// additional dependency to the runtime classpath.
ãƒ­ã‚®ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ {Logback} ã‚’ä½¿ç”¨ã™ã‚‹ãªã‚‰ã€`runtime` ä¾å­˜é–¢ä¿‚ã« https://www.slf4j.org/legacy.html#jul-to-slf4j[JUL to SLF4J Bridge] ã‚’è¿½åŠ ã™ã‚‹ã¨ã„ã„ã§ã—ã‚‡ã†ã€‚


[[running-tests-build-maven]]
==== Maven

// [WARNING]
// .The JUnit Platform Maven Surefire Provider has been discontinued
[WARNING]
.JUnit Platform Maven Surefire Provider ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®é–‹ç™ºã¯ä¿®äº†ã—ã¾ã—ãŸ
====
// The `junit-platform-surefire-provider`, which was originally developed by the JUnit team,
// was deprecated in JUnit Platform 1.3 and discontinued in 1.4. Please use Maven Surefire's
// native support instead.
JUnit ãƒãƒ¼ãƒ ã®é–‹ç™ºã—ã¦ã„ãŸ `junit-platform-surefire-provider` ã¯ JUnit Platform 1.3 ã§å»ƒæ­¢äºˆå®šã«ãªã‚Šã€1.4 ã®é–‹ç™ºã¯ä¸­æ­¢ã—ã¾ã—ãŸã€‚
ä»£ã‚ã‚Šã« Maven Surefire ã§ç›´æ¥çš„ã«å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚
====

// Starting with https://issues.apache.org/jira/browse/SUREFIRE-1330[version 2.22.0], Maven
// Surefire and Maven Failsafe provide
// https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html[native support]
// for executing tests on the JUnit Platform. The `pom.xml` file in the
// `{junit5-jupiter-starter-maven}` project demonstrates how to use the Maven Surefire plugin
// and can serve as a starting point for configuring your Maven build.
Maven Surefire ãŠã‚ˆã³ Maven Failsafe ã§ã¯ https://issues.apache.org/jira/browse/SUREFIRE-1330[2.22.0] ã‹ã‚‰ JUnit Platform ã§ https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html[ç›´æ¥çš„ã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹] ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
`{junit5-jupiter-starter-maven}` ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® `pom.xml` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã‚‹ã¨ã€Maven Surefire ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã©ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã®ã‹åˆ†ã‹ã‚Šã¾ã™ã€‚

[[running-tests-build-maven-engines-configure]]
===== ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã®æ§‹æˆ

// In order to have Maven Surefire or Maven Failsafe run any tests at all, at least one
// `TestEngine` implementation must be added to the test classpath.
Maven Surefire ã‚„ Maven Failsafe ã§1åº¦ã«è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã« `TestEngine` ã®å®Ÿè£…ã‚¯ãƒ©ã‚¹ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

// To configure support for JUnit Jupiter based tests, configure `test` scoped dependencies
// on the JUnit Jupiter API and the JUnit Jupiter `TestEngine` implementation similar to the
// following.
JUnit Jupiter ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€JUnit Jupiter API ã¨ JUnit Jupiter `TestEngine` ï¼ˆã®å®Ÿè£…ã‚¯ãƒ©ã‚¹ï¼‰ã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ `test` ã‚¹ã‚³ãƒ¼ãƒ—ã§è¿½åŠ ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

[source,xml,indent=0]
[subs=attributes+]
----
	<!-- ... -->
	<dependencies>
		<!-- ... -->
		<dependency>
			<groupId>org.junit.jupiter</groupId>
			<artifactId>junit-jupiter</artifactId>
			<version>{jupiter-version}</version>
			<scope>test</scope>
		</dependency>
		<!-- ... -->
	</dependencies>
	<build>
		<plugins>
			<plugin>
				<artifactId>maven-surefire-plugin</artifactId>
				<version>{surefire-version}</version>
			</plugin>
			<plugin>
				<artifactId>maven-failsafe-plugin</artifactId>
				<version>{surefire-version}</version>
			</plugin>
		</plugins>
	</build>
	<!-- ... -->
----

// Maven Surefire and Maven Failsafe can run JUnit 4 based tests alongside Jupiter tests as
// long as you configure `test` scoped dependencies on JUnit 4 and the JUnit Vintage
// `TestEngine` implementation similar to the following.
JUnit 4 ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆã‚’ JUnit Jupiter ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆã¨ä¸€ç·’ã«å®Ÿè¡Œã™ã‚‹ã«ã¯ã€JUnit 4 ã¨ JUnit Vintage `TestEngine` ï¼ˆã®å®Ÿè£…ã‚¯ãƒ©ã‚¹ï¼‰ã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ `test` ã‚¹ã‚³ãƒ¼ãƒ—ã§è¿½åŠ ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

[source,xml,indent=0]
[subs=attributes+]
----
	<!-- ... -->
	<dependencies>
		<!-- ... -->
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>{junit4-version}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.junit.vintage</groupId>
			<artifactId>junit-vintage-engine</artifactId>
			<version>{vintage-version}</version>
			<scope>test</scope>
		</dependency>
		<!-- ... -->
	</dependencies>
	<!-- ... -->
	<build>
		<plugins>
			<plugin>
				<artifactId>maven-surefire-plugin</artifactId>
				<version>{surefire-version}</version>
			</plugin>
			<plugin>
				<artifactId>maven-failsafe-plugin</artifactId>
				<version>{surefire-version}</version>
			</plugin>
		</plugins>
	</build>
	<!-- ... -->
----

[[running-tests-build-maven-filter-test-class-names]]
===== åå‰ã§ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é¸æŠã™ã‚‹

// The Maven Surefire Plugin will scan for test classes whose fully qualified names match
// the following patterns.
Maven Surefire ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€å®Œå…¨ä¿®é£¾ã‚¯ãƒ©ã‚¹åãŒæ¬¡ã®ã‚ˆã†ãªãƒ‘ã‚¹æ–‡å­—åˆ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ä¸€è‡´ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’æ¢ç´¢ã—ã¾ã™ã€‚

- +++**/Test*.java+++
- +++**/*Test.java+++
- +++**/*Tests.java+++
- +++**/*TestCase.java+++

// Moreover, it will exclude all nested classes (including static member classes) by default.
ã•ã‚‰ã«ã€åˆæœŸè¨­å®šã§ã¯å…¨ã¦ã®å…¥ã‚Œå­ã‚¯ãƒ©ã‚¹ï¼ˆ`static` ãƒ¡ãƒ³ãƒãƒ¼ã‚¯ãƒ©ã‚¹ã‚‚å«ã‚ã¦ï¼‰ã‚’ç„¡è¦–ã—ã¾ã™ã€‚

// Note, however, that you can override this default behavior by configuring explicit
// `include` and `exclude` rules in your `pom.xml` file. For example, to keep Maven Surefire
// from excluding static member classes, you can override its exclude rules as follows.
ã—ã‹ã—ã€ã“ã®æŒ¯ã‚‹èˆã„ã¯æ˜ç¤ºçš„ã« `pom.xml` ã¸ `include` ãƒ«ãƒ¼ãƒ«ã¨ `exclude` ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§å¤‰æ›´ã§ãã¾ã™ã€‚
ä¾‹ãˆã°ã€`static` ãƒ¡ãƒ³ãƒãƒ¼ã‚¯ãƒ©ã‚¹ã‚’ç„¡è¦–ã™ã‚‹æŒ¯ã‚‹èˆã„ã‚’æ­¢ã‚ã•ã›ã‚‹ã«ã¯æ¬¡ã®ã‚ˆã†ã« `exclude` ãƒ«ãƒ¼ãƒ«ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

[source,xml,indent=0]
[subs=attributes+]
// .Overriding exclude rules of Maven Surefire
.Maven Surefire ã® `exclude` ãƒ«ãƒ¼ãƒ«ã‚’ä¸Šæ›¸ãã™ã‚‹
----
	<!-- ... -->
	<build>
		<plugins>
			<plugin>
				<artifactId>maven-surefire-plugin</artifactId>
				<version>{surefire-version}</version>
				<configuration>
					<excludes>
						<exclude/>
					</excludes>
				</configuration>
			</plugin>
		</plugins>
	</build>
	<!-- ... -->
----

// Please see the
// https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html[Inclusions and Exclusions of Tests]
// documentation for Maven Surefire for details.
è©³ã—ãã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html[Inclusions and Exclusions of Tests] ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[[running-tests-build-maven-filter-tags]]
===== ã‚¿ã‚°ã§ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é¸æŠã™ã‚‹

// You can filter tests by <<running-tests-tags, tags>> or
// <<running-tests-tag-expressions, tag expressions>> using the following configuration
// properties.
<<running-tests-tags, ã‚¿ã‚°>> ã‚„ <<running-tests-tag-expressions, ã‚¿ã‚°è¨˜æ³•>> ã§å®Ÿè¡Œã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’é¸æŠã§ãã¾ã™ã€‚

// - to include _tags_ or _tag expressions_, use `groups`.
// - to exclude _tags_ or _tag expressions_, use `excludedGroups`.
- _ã‚¿ã‚°_ ã‚„ _ã‚¿ã‚°è¨˜æ³•_ ã‚’å«ã‚€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é¸æŠã™ã‚‹ã«ã¯ `groups` ã‚’ä½¿ç”¨ã—ã¾ã™
- _ã‚¿ã‚°_ ã‚„ _ã‚¿ã‚°è¨˜æ³•_ ã‚’å«ã‚€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ã™ã‚‹ã«ã¯ `excludedGroups` ã‚’ä½¿ç”¨ã—ã¾ã™

[source,xml,indent=0]
[subs=attributes+]
----
	<!-- ... -->
	<build>
		<plugins>
			<plugin>
				<artifactId>maven-surefire-plugin</artifactId>
				<version>{surefire-version}</version>
				<configuration>
					<groups>acceptance | !feature-a</groups>
					<excludedGroups>integration, regression</excludedGroups>
				</configuration>
			</plugin>
		</plugins>
	</build>
	<!-- ... -->
----

[[running-tests-build-maven-config-params]]
===== è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ§‹æˆ

// You can set JUnit Platform <<running-tests-config-params, configuration parameters>> to
// influence test discovery and execution by declaring the `configurationParameters`
// property and providing key-value pairs using the Java `Properties` file syntax (as shown
// below) or via the `junit-platform.properties` file.
JUnit Platform ãŒãƒ†ã‚¹ãƒˆã‚’ç™ºè¦‹ã—ãŸã‚Šå®Ÿè¡Œã—ãŸã‚Šã™ã‚‹ãŸã‚ã® <<running-tests-config-params, è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿>> ã¯ `configurationParameters` ã§æŒ‡å®šã—ã¾ã™ã€‚
`configurationProperties` ã«ã¯ã€ Java ã® `Properties` è¨˜æ³•ã§ã‚­ãƒ¼ã¨å€¤ã®å¯¾ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
`junit-platform.properties` ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚æŒ‡å®šã§ãã¾ã™ã€‚


[source,xml,indent=0]
[subs=attributes+]
----
	<!-- ... -->
	<build>
		<plugins>
			<plugin>
				<artifactId>maven-surefire-plugin</artifactId>
				<version>{surefire-version}</version>
				<configuration>
					<properties>
						<configurationParameters>
							junit.jupiter.conditions.deactivate = *
							junit.jupiter.extensions.autodetection.enabled = true
							junit.jupiter.testinstance.lifecycle.default = per_class
						</configurationParameters>
					</properties>
				</configuration>
			</plugin>
		</plugins>
	</build>
	<!-- ... -->
----

[[running-tests-build-ant]]
==== Ant

Starting with version `1.10.3` of link:https://ant.apache.org/[Ant], a new
link:https://ant.apache.org/manual/Tasks/junitlauncher.html[`junitlauncher`] task has
been introduced to provide native support for launching tests on the JUnit Platform. The
`junitlauncher` task is solely responsible for launching the JUnit Platform and passing
it the selected collection of tests. The JUnit Platform then delegates to registered test
engines to discover and execute the tests.

The `junitlauncher` task attempts to align as close as possible with native Ant
constructs such as
link:https://ant.apache.org/manual/Types/resources.html#collection[resource collections]
for allowing users to select the tests that they want executed by test engines. This
gives the task a consistent and natural feel when compared to many other core Ant tasks.

Starting with version `1.10.6` of Ant, the `junitlauncher` task supports
link:https://ant.apache.org/manual/Tasks/junitlauncher.html#fork[forking the tests in a separate JVM].

The `build.xml` file in the `{junit5-jupiter-starter-ant}` project demonstrates how to use
the task and can serve as a starting point.

===== Basic Usage

The following example demonstrates how to configure the `junitlauncher` task to select a
single test class (i.e., `org.myapp.test.MyFirstJUnit5Test`).

[source,xml,indent=0]
----
	<path id="test.classpath">
		<!-- The location where you have your compiled classes -->
		<pathelement location="${build.classes.dir}" />
	</path>

	<!-- ... -->

	<junitlauncher>
		<classpath refid="test.classpath" />
		<test name="org.myapp.test.MyFirstJUnit5Test" />
	</junitlauncher>
----

The `test` element allows you to specify a single test class that you want to be selected
and executed. The `classpath` element allows you to specify the classpath to be used to
launch the JUnit Platform. This classpath will also be used to locate test classes that
are part of the execution.

The following example demonstrates how to configure the `junitlauncher` task to select
test classes from multiple locations.

[source,xml,indent=0]
----
	<path id="test.classpath">
		<!-- The location where you have your compiled classes -->
		<pathelement location="${build.classes.dir}" />
	</path>
	<!-- ... -->
	<junitlauncher>
		<classpath refid="test.classpath" />
		<testclasses outputdir="${output.dir}">
			<fileset dir="${build.classes.dir}">
				<include name="org/example/**/demo/**/" />
			</fileset>
			<fileset dir="${some.other.dir}">
				<include name="org/myapp/**/" />
			</fileset>
		</testclasses>
	</junitlauncher>
----

In the above example, the `testclasses` element allows you to select multiple test
classes that reside in different locations.

For further details on usage and configuration options please refer to the official Ant
documentation for the
link:https://ant.apache.org/manual/Tasks/junitlauncher.html[`junitlauncher` task].

[[running-tests-console-launcher]]
=== ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ©ãƒ³ãƒãƒ£ãƒ¼

// The `{ConsoleLauncher}` is a command-line Java application that lets you launch the JUnit
// Platform from the console. For example, it can be used to run JUnit Vintage and JUnit
// Jupiter tests and print test execution results to the console.
`{ConsoleLauncher}` ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ JUnit Platform ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã® Java ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
JUnit Jupiter ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ãŸçµæœã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã§ãã‚‹ã—ã€JUnit Vintage ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã‚‚ä½¿ç”¨ã§ãã¾ã™ã€‚

// An executable `junit-platform-console-standalone-{platform-version}.jar` with all
// dependencies included is published in the {Maven_Central} repository under the
// https://repo1.maven.org/maven2/org/junit/platform/junit-platform-console-standalone[junit-platform-console-standalone]
// directory. You can https://docs.oracle.com/javase/tutorial/deployment/jar/run.html[run]
// the standalone `ConsoleLauncher` as shown below.
ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä¸€ç·’ã«ã—ãŸå®Ÿè¡Œå¯èƒ½ jar ãƒ•ã‚¡ã‚¤ãƒ« `junit-platform-console-standalone-{platform-version}.jar` ã¯ {Maven_Central} ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
JUnit Platform ãƒªãƒã‚¸ãƒˆãƒªã® https://repo1.maven.org/maven2/org/junit/platform/junit-platform-console-standalone[junit-platform-console-standalone] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
jar ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚

`java -jar junit-platform-console-standalone-{platform-version}.jar <<<running-tests-console-launcher-options>>>`

// Here's an example of its output:
å®Ÿè¡Œçµæœã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚

....
â”œâ”€ JUnit Vintage
â”‚  â””â”€ example.JUnit4Tests
â”‚     â””â”€ standardJUnit4Test âœ”
â””â”€ JUnit Jupiter
   â”œâ”€ StandardTests
   â”‚  â”œâ”€ succeedingTest() âœ”
   â”‚  â””â”€ skippedTest() â†· for demonstration purposes
   â””â”€ A special test case
      â”œâ”€ Custom test name containing spaces âœ”
      â”œâ”€ â•¯Â°â–¡Â°)â•¯ âœ”
      â””â”€ ğŸ˜± âœ”

Test run finished after 64 ms
[         5 containers found      ]
[         0 containers skipped    ]
[         5 containers started    ]
[         0 containers aborted    ]
[         5 containers successful ]
[         0 containers failed     ]
[         6 tests found           ]
[         1 tests skipped         ]
[         5 tests started         ]
[         0 tests aborted         ]
[         5 tests successful      ]
[         0 tests failed          ]
....

// .Exit Code
// NOTE: The `{ConsoleLauncher}` exits with a status code of `1` if any containers or tests
// failed. If no tests are discovered and the `--fail-if-no-tests` command-line option is
// supplied, the `ConsoleLauncher` exits with a status code of `2`. Otherwise the exit code
// is `0`.
.çµ‚äº†ã‚³ãƒ¼ãƒ‰
NOTE: ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠã‚„ãƒ†ã‚¹ãƒˆãŒ1ã¤ã§ã‚‚å¤±æ•—ã™ã‚‹ã¨ `{ConsoleLauncher}` ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ `1` ã§çµ‚äº†ã—ã¾ã™ã€‚
ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ `--fail-if-no-tests` ãƒ•ãƒ©ã‚°ã‚’æŒ‡å®šã—ãŸå ´åˆã€1ã¤ã‚‚ãƒ†ã‚¹ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„ã¨ãã¯ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ `2` ã§çµ‚äº†ã—ã¾ã™ã€‚
ãã‚Œä»¥å¤–ã®å ´åˆã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ `0` ã§çµ‚äº†ã—ã¾ã™ã€‚

[[running-tests-console-launcher-options]]
==== ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã®å¼•æ•°ï¼ˆãƒ•ãƒ©ã‚°ï¼‰

----
include::{consoleLauncherOptionsFile}[]
----

[[running-tests-console-launcher-argument-files]]
==== ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã®å¼•æ•°ï¼ˆ@-filesï¼‰

// On some platforms you may run into system limitations on the length of a command line
// when creating a command line with lots of options or with long arguments.
OSã«ã‚ˆã£ã¦ã¯ã€å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³æ–‡å­—åˆ—ã®é•·ã•ãŒä¸Šé™å€¤ã«é”ã—ã¦ã—ã¾ã†å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

// Since version 1.3, the `ConsoleLauncher` supports _argument files_, also known as
// _@-files_. Argument files are files that themselves contain arguments to be passed to the
// command. When the underlying https://github.com/remkop/picocli[picocli] command line
// parser encounters an argument beginning with the character `@`, it expands the contents
// of that file into the argument list.
JUnit Platform 1.3 ã‹ã‚‰ `ConsoleLauncher` ã¯ _å¼•æ•°ãƒ•ã‚¡ã‚¤ãƒ«_ ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼ˆ_@-files_ ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ï¼‰ã€‚
å¼•æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’ç¾…åˆ—ã—ãŸãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
ã“ã®æ©Ÿèƒ½ã¯ https://github.com/remkop/picocli[picocli] ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³æ–‡å­—åˆ—ãƒ‘ãƒ¼ã‚µãƒ¼ã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã« `@` ã§å§‹ã¾ã‚‹é …ç›®ãŒã‚ã‚Œã°ã€å¯¾å¿œã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã«è¿½åŠ ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

// The arguments within a file can be separated by spaces or newlines. If an argument
// contains embedded whitespace, the whole argument should be wrapped in double or single
// quotes -- for example, `"-f=My Files/Stuff.java"`.
å¼•æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€ãã‚Œãã‚Œã®å¼•æ•°ã‚’ç©ºç™½æ–‡å­—ã‚„æ”¹è¡Œæ–‡å­—ã§åˆ†å‰²ã—ã¾ã™ã€‚
å¼•æ•°è‡ªä½“ã«ç©ºç™½æ–‡å­—ã‚’å«ã‚ã‚‹ã«ã¯ã€ãã®å¼•æ•°å…¨ä½“ã‚’ä¸€é‡å¼•ç”¨ç¬¦ã‚„äºŒé‡å¼•ç”¨ç¬¦ã§å›²ã¾ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚
ä¾‹ãˆã° `"-f=My Files/Stuff.java"` ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚

// If the argument file does not exist or cannot be read, the argument will be treated
// literally and will not be removed. This will likely result in an "unmatched argument"
// error message. You can troubleshoot such errors by executing the command with the
// `picocli.trace` system property set to `DEBUG`.
æŒ‡å®šã—ãŸå¼•æ•°ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„ã‹ã€èª­ã¿å–ã‚Œãªã„å ´åˆã€ãŸã ã®1å¼•æ•°ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚
ãŠãã‚‰ãã€Œä½¿ç”¨ã§ããªã„å¼•æ•°ã€ã¨ã„ã†è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚
ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã€ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ `picocli.trace` ã« `DEBUG` ã‚’æŒ‡å®šã™ã‚‹ã¨å•é¡Œã®è§£æ±ºã«å½¹ç«‹ã¤æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚

// Multiple _@-files_ may be specified on the command line. The specified path may be
// relative to the current directory or absolute.
è¤‡æ•°ã®å¼•æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã¨ãã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã« _@-files_ ã‚’è¤‡æ•°æŒ‡å®šã—ã¾ã™ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å®Œå…¨ãƒ‘ã‚¹ã§æŒ‡å®šã—ãŸå ´åˆä»¥å¤–ã¯ã€å®Ÿè¡Œæ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã¨ã—ã¦è§£é‡ˆã—ã¾ã™ã€‚

// You can pass a real parameter with an initial `@` character by escaping it with an
// additional `@` symbol. For example, `@@somearg` will become `@somearg` and will not be
// subject to expansion.
`@` ã‹ã‚‰å§‹ã¾ã‚‹ãƒ•ãƒ©ã‚°åã‚’ä½¿ã„ãŸã„ã¨ãã¯ã€`@@` ã®ã‚ˆã†ã«2ã¤ç¶šã‘ã¦è¨˜è¿°ã—ã¾ã™ã€‚
ä¾‹ãˆã° `@@somearg` ã¯ `@somearg` ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ˆå¼•æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å±•é–‹ã—ã¾ã›ã‚“ï¼‰ã€‚

[[running-tests-junit-platform-runner]]
=== JUnit 4 ã§ JUnit Platform ã‚’å®Ÿè¡Œã™ã‚‹

// [WARNING]
// .The `JUnitPlatform` runner has been deprecated
[WARNING]
.`JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã¯å»ƒæ­¢äºˆå®šã§ã™
====
// The `JUnitPlatform` runner was developed by the JUnit team as an interim solution for
// running test suites and tests on the JUnit Platform in a JUnit 4 environment.
JUnit ãƒãƒ¼ãƒ ãŒ `JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã‚’é–‹ç™ºã—ãŸã®ã¯ã€JUnit 4 ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆï¼ˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆï¼‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®æš«å®šæªç½®ã§ã™ã€‚

// In recent years, all mainstream build tools and IDEs provide built-in support for running
// tests directly on the JUnit Platform.
ã“ã“æ•°å¹´ã®é–“ã«ã€ã•ã¾ã–ã¾ãªãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚„ IDE ã¯ JUnit Platform ã‚’ç›´æ¥çš„ã«å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

// In addition, the introduction of `@Suite` support provided by the
// `junit-platform-suite-engine` module makes the `JUnitPlatform` runner obsolete. See
// <<junit-platform-suite-engine>> for details.
ã¾ãŸã€`junit-platform-suite-engine` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ `@Suite` ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸãŸã‚ã€`JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã¯ä¸è¦ã«ãªã‚Šã¾ã—ãŸã€‚
è©³ã—ãã¯ <<junit-platform-suite-engine>> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

// The `JUnitPlatform` runner has therefore been deprecated in JUnit Platform 1.8 and will be
// removed in JUnit Platform 2.0.
ä»¥ä¸Šã®ç†ç”±ã«ã‚ˆã‚Šã€JUnit Platform 1.8 ã‹ã‚‰ `JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã¯å»ƒæ­¢äºˆå®šã«ãªã‚Šã¾ã—ãŸã€‚
ãŠãã‚‰ã JUnit Platform 2.0 ã§å‰Šé™¤ã™ã‚‹ã§ã—ã‚‡ã†ã€‚

// If you are using the `JUnitPlatform` runner, please migrate to the `@Suite` support.
`JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ `@Suite` ã«å¯¾å¿œã—ãŸ `junit-platform-suite-engine` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¸ç§»è¡Œã—ã¦ãã ã•ã„ã€‚
====

// The `JUnitPlatform` runner is a JUnit 4 based `Runner` which enables you to run any test
// whose programming model is supported on the JUnit Platform in a JUnit 4 environment --
// for example, a JUnit Jupiter test class.
`JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã¯ã€JUnit Platform ã®æä¾›ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆã‚’ã€JUnit 4 ã®ç’°å¢ƒã§å®Ÿè¡Œã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã§ã™ã€‚

// Annotating a class with `@RunWith(JUnitPlatform.class)` allows it to be run with IDEs and
// build systems that support JUnit 4 but do not yet support the JUnit Platform directly.
ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’ `@RunWith(JUnitPlatform.class)` ã§ä¿®é£¾ã™ã‚Œã°ã€JUnit Platform ã«ã¯å¯¾å¿œã—ã¦ã„ãªã„ã‘ã© JUnit 4 ã«å¯¾å¿œã—ãŸ IDE ã‚„ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

// NOTE: Since the JUnit Platform has features that JUnit 4 does not have, the runner is
// only able to support a subset of the JUnit Platform functionality, especially with regard
// to reporting (see <<running-tests-junit-platform-runner-technical-names>>).
NOTE: JUnit Platform ã«ã¯ JUnit 4 ã«ãªã„æ©Ÿèƒ½ãŒå­˜åœ¨ã—ã¾ã™ã€‚
ã—ãŸãŒã£ã¦ `JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã¯ JUnit Platform ã®æä¾›ã™ã‚‹æ©Ÿèƒ½ã®ä¸€éƒ¨ã ã‘ã—ã‹å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚
ç‰¹ã«ãƒ†ã‚¹ãƒˆçµæœã®ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã«ã¯é•ã„ãŒã‚ã‚Šã¾ã™ï¼ˆ<<running-tests-junit-platform-runner-technical-names>> ã‚’å‚ç…§ï¼‰ã€‚

[[running-tests-junit-platform-runner-setup]]
==== æº–å‚™

// You need the following artifacts and their dependencies on the classpath. See
// <<dependency-metadata>> for details regarding group IDs, artifact IDs, and versions.
`JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ä»¥é™ã§èª¬æ˜ã™ã‚‹ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚„ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã«é…ç½®ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚
å…·ä½“çš„ãªã‚°ãƒ«ãƒ¼ãƒ—IDã€ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆIDã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ <<dependency-metadata>> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[[running-tests-junit-platform-runner-setup-explicit-dependencies]]
===== æ˜ç¤ºçš„ãªä¾å­˜é–¢ä¿‚

// * `junit-platform-runner` in _test_ scope: location of the `JUnitPlatform` runner
// * `junit-{junit4-version}.jar` in _test_ scope: to run tests using JUnit 4
// * `junit-jupiter-api` in _test_ scope: API for writing tests using JUnit Jupiter,
//   including `@Test`, etc.
// * `junit-jupiter-engine` in _test runtime_ scope: implementation of the `TestEngine` API
//   for JUnit Jupiter
* `junit-platform-runner` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚`JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ãã®ã‚‚ã®ã§ã™
* `junit-{junit4-version}.jar` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚JUnit 4 ã§ã™
* `junit-jupiter-api` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚JUnit Jupiter ã§ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã® API ã§ã™
* `junit-jupiter-engine` `testRuntime` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚JUnit Jupiter ã®ãŸã‚ã® `TestEngine` å®Ÿè£…ã§ã™

[[running-tests-junit-platform-runner-setup-transitive-dependencies]]
===== æ¨ç§»çš„ä¾å­˜é–¢ä¿‚

// * `junit-platform-suite-api` in _test_ scope
// * `junit-platform-suite-commons` in _test_ scope
// * `junit-platform-launcher` in _test_ scope
// * `junit-platform-engine` in _test_ scope
// * `junit-platform-commons` in _test_ scope
// * `opentest4j` in _test_ scope
* `junit-platform-suite-api` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚
* `junit-platform-suite-commons` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚
* `junit-platform-launcher` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚
* `junit-platform-engine` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚
* `junit-platform-commons` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚
* `opentest4j` `test` ã‚¹ã‚³ãƒ¼ãƒ—ã€‚

[[running-tests-junit-platform-runner-technical-names]]
==== è¡¨ç¤ºåã¨éƒ¨å“å

// To define a custom _display name_ for the class run via `@RunWith(JUnitPlatform.class)`
// annotate the class with `@SuiteDisplayName` and provide a custom value.
`@RunWith(JUnitPlatform.class)` ã§ä¿®é£¾ã—ãŸãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã® _è¡¨ç¤ºå_ ã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ã€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’ `@SuiteDisplayName` ã§ä¿®é£¾ã—ã¦ã€è¨­å®šã—ã¾ã™ã€‚

// By default, _display names_ will be used for test artifacts; however, when the
// `JUnitPlatform` runner is used to execute tests with a build tool such as Gradle or
// Maven, the generated test report often needs to include the _technical names_ of test
// artifacts â€” for example, fully qualified class names â€” instead of shorter display names
// like the simple name of a test class or a custom display name containing special
// characters. To enable technical names for reporting purposes, declare the
// `@UseTechnicalNames` annotation alongside `@RunWith(JUnitPlatform.class)`.
åˆæœŸè¨­å®šã§ã¯ã€ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã® _è¡¨ç¤ºå_ ã‚’ä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã—ã‹ã—ã€Gradle ã‚„ Maven ç­‰ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ `JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã‚’å®Ÿè¡Œã—ã¦ã€ãƒ†ã‚¹ãƒˆçµæœã®ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãã¯ã€ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã® _éƒ¨å“å_ ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®çœç•¥å½¢ï¼ˆè¡¨ç¤ºåï¼‰ã‚„ç‰¹æ®Šæ–‡å­—ã‚’å«ã‚€è¡¨ç¤ºåã§ã¯ãªãã€å®Œå…¨ä¿®é£¾ã‚¯ãƒ©ã‚¹åãŒå¿…è¦ã«ãªã‚‹ã€ã¨ã„ã£ãŸå…·åˆã§ã™ã€‚
ãƒ†ã‚¹ãƒˆçµæœã®ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãã«éƒ¨å“åã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’ `@UseTechnicalNames` ã§ä¿®é£¾ã—ã¦ãã ã•ã„ã€‚

// Note that the presence of `@UseTechnicalNames` overrides any custom display name
// configured via `@SuiteDisplayName`.
ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’ `@UseTechnicalNames` ã§ä¿®é£¾ã™ã‚‹ã¨ã€`@SuiteDisplayName` ã§æŒ‡å®šã—ãŸè¡¨ç¤ºåã‚’ä¸Šæ›¸ãã—ã¾ã™ã€‚

[[running-tests-junit-platform-runner-single-test]]
==== å˜ç‹¬ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹

// One way to use the `JUnitPlatform` runner is to annotate a test class with
// `@RunWith(JUnitPlatform.class)` directly. Please note that the test methods in the
// following example are annotated with `org.junit.jupiter.api.Test` (JUnit Jupiter), not
// `org.junit.Test` (JUnit 4). Moreover, in this case the test class must be `public`;
// otherwise, some IDEs and build tools might not recognize it as a JUnit 4 test class.
ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’ `@RunWith(JUnitPlatform.class)` ã§ä¿®é£¾ã™ã‚‹ã®ã¯ `JUnitPlatform` ãƒ©ãƒ³ãƒŠãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã®1ã¤ã§ã™ã€‚
æ¬¡ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã¯ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã‚’ JUnit Jupiter ã® `@Test` ã§ä¿®é£¾ã—ã¦ã„ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ï¼ˆ `org.junit.Test` ã§ã¯ãªã `org.junit.jupiter.api.Test` ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼‰ã€‚
ã•ã‚‰ã«ã€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®å¯è¦–æ€§ãŒ `public` ã«ãªã£ã¦ã„ã‚‹ã®ã‚‚ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
ãã†ã—ãªã„ã¨ JUnit 4 ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã¨ã—ã¦èªè­˜ã—ãªã„ IDE ã‚„ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚

[source,java,indent=0]
----
include::{testDir}/example/JUnitPlatformClassDemo.java[tags=user_guide]
----

[[running-tests-junit-platform-runner-test-suite]]
==== ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ

// If you have multiple test classes you can create a test suite as can be seen in the
// following example.
æ¬¡ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã®ã‚ˆã†ã«ã€è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’ã¾ã¨ã‚ãŸãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚

[source,java,indent=0]
----
include::{testDir}/example/JUnitPlatformSuiteDemo.java[tags=user_guide]
----

// The `JUnitPlatformSuiteDemo` will discover and run all tests in the `example` package and
// its subpackages. By default, it will only include test classes whose names either begin
// with `Test` or end with `Test` or `Tests`.
`JUnitPlatformSuiteDemo` ã‚¯ãƒ©ã‚¹ã¯ `example` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ãã®ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é…ç½®ã—ãŸå…¨ã¦ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’ç™ºè¦‹ã—ã€å®Ÿè¡Œã—ã¾ã™ã€‚
åˆæœŸè¨­å®šã§ã¯ `Test` ã§å§‹ã¾ã‚‹ã‹ã€`Test` ã‚„ `Tests` ã§çµ‚ã‚ã‚‹åå‰ã®ã‚¯ãƒ©ã‚¹ãŒå¯¾è±¡ã«ãªã‚Šã¾ã™ã€‚

// .Additional Configuration Options
// NOTE: There are more configuration options for discovering and filtering tests than just
// `@SelectPackages`. Please consult the Javadoc of the `{suite-api-package}` package for
// further details.
.ã•ã‚‰ã«ç´°ã‹ã„è¨­å®š
NOTE: `@SelectPackages` ä»¥å¤–ã«ã‚‚ãƒ†ã‚¹ãƒˆã‚’ç™ºè¦‹ã—ãŸã‚Šé¸æŠã—ãŸã‚Šã™ã‚‹ãŸã‚ã®è¨­å®šé …ç›®ãŒã‚ã‚Šã¾ã™ã€‚
è©³ã—ãã¯ `{suite-api-package}` ã® Javadoc ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

// WARNING: Test classes and suites annotated with `@RunWith(JUnitPlatform.class)`
// **cannot** be executed directly on the JUnit Platform (or as a "JUnit 5" test as
// documented in some IDEs). Such classes and suites can only be executed using JUnit 4
// infrastructure.
WARNING: `@RunWith(JUnitPlatform.class)` ã§ä¿®é£¾ã—ãŸãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚¯ãƒ©ã‚¹ã‚„ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã¯ JUnit Platform ã‹ã‚‰ç›´æ¥çš„ã«å®Ÿè¡Œ **ã§ãã¾ã›ã‚“** ï¼ˆIDE ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ "JUnit 5" ãƒ†ã‚¹ãƒˆã¨ã—ã¦ã‚‚å®Ÿè¡Œã§ãã¾ã›ã‚“ï¼‰ã€‚
JUnit 4 ã§ã—ã‹å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚

[[running-tests-config-params]]
=== è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ§‹æˆ

// In addition to instructing the platform which test classes and test engines to include,
// which packages to scan, etc., it is sometimes necessary to provide additional custom
// configuration parameters that are specific to a particular test engine, listener, or
// registered extension. For example, the JUnit Jupiter `TestEngine` supports _configuration
// parameters_ for the following use cases.
ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®é¸æŠã‚„ã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã®æŒ‡å®šã€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’æ¢ç´¢ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æŒ‡å®šã¨ã„ã£ãŸåŸºç›¤æ©Ÿèƒ½ã®èª¬æ˜ã«åŠ ãˆã¦ã€ç‰¹å®šã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã‚„ãƒªã‚¹ãƒŠãƒ¼ã€æ‹¡å¼µæ©Ÿèƒ½ã«å›ºæœ‰ã®è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã‚‚ç†è§£ã—ã¦ãŠã„ãŸã»ã†ãŒã„ã„ã§ã—ã‚‡ã†ã€‚
ä¾‹ãˆã°ã€JUnit Jupiter ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ã«ã¯æ¬¡ã®ã‚ˆã†ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’æƒ³å®šã—ãŸè¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

- <<writing-tests-test-instance-lifecycle-changing-default>>
- <<extensions-registration-automatic-enabling>>
- <<extensions-conditions-deactivation>>
- <<writing-tests-display-name-generator-default>>

// _Configuration Parameters_ are text-based key-value pairs that can be supplied to test
// engines running on the JUnit Platform via one of the following mechanisms.
_è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿_ ã¯æ–‡å­—åˆ—ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ¼ã¨å€¤ã®å¯¾ã®é›†åˆã§ã™ã€‚
JUnit Platform ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã¯æ¬¡ã®ã‚ˆã†ã«æ³¨å…¥ã—ã¾ã™ã€‚

// 1. The `configurationParameter()` and `configurationParameters()` methods in the
//   `LauncherDiscoveryRequestBuilder` which is used to build a request supplied to the
//   <<launcher-api, `Launcher` API>>. When running tests via one of the tools provided
//   by the JUnit Platform you can specify configuration parameters as follows:
//   * <<running-tests-console-launcher,Console Launcher>>: use the `--config`
//     command-line option.
//   * <<running-tests-build-gradle-config-params,Gradle>>: use the
//     `systemProperty` or `systemProperties` DSL.
//   * <<running-tests-build-maven-config-params,Maven Surefire provider>>: use the
//     `configurationParameters` property.
// 2. JVM system properties.
// 3. The JUnit Platform configuration file: a file named `junit-platform.properties` in the
//   root of the class path that follows the syntax rules for a Java `Properties` file.
1. <<launcher-api, `Launcher` API>> ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ§‹ç¯‰ã™ã‚‹ `LauncherDiscoveryRequestBuilder` ã® `configurationParameter()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ `configurationParameters()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
  JUnit Platform ã‚’å®Ÿè¡Œã™ã‚‹ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã£ã¦æ¸¡ã—æ–¹ã¯ç•°ãªã‚Šã¾ã™ã€‚
  * <<running-tests-console-launcher>>: `--config` ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
  * <<running-tests-build-gradle-config-params>>: DSL ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆ`systemProperty` ã‚„ `systemProperties`ï¼‰ã€‚
  * <<running-tests-build-maven-config-params>>: `configurationParameters` è¦ç´ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
2. JVM ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
3. JUnit Platform ã®ç‹¬è‡ªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚Java ã® `Properties` ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½œæˆã—ãŸ `junit-platform.properties` ã‚’ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã®æœ€ä¸Šä½ã«é…ç½®ã—ã¾ã™ã€‚

// NOTE: Configuration parameters are looked up in the exact order defined above.
// Consequently, configuration parameters supplied directly to the `Launcher` take
// precedence over those supplied via system properties and the configuration file.
// Similarly, configuration parameters supplied via system properties take precedence over
// those supplied via the configuration file.
NOTE: è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª­ã¿å–ã‚‹é †åºã¯å›ºå®šã•ã‚Œã¦ã„ã¾ã™ã€‚
ã¤ã¾ã‚Šã€`Launcher` ã«ç›´æ¥æŒ‡å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãªã©ä»–ã®æ–¹æ³•ã§æŒ‡å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä¸Šæ›¸ãã™ã‚‹ã®ã§ã™ã€‚
åŒæ§˜ã«ã€ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§æŒ‡å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®šã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä¸Šæ›¸ãã—ã¾ã™ã€‚

[[running-tests-config-params-deactivation-pattern]]
==== ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒè¨˜æ³•

// This section describes the pattern matching syntax that is applied to the _configuration
// parameters_ used for the following features.
ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€æ¬¡ã®ã‚ˆã†ãªæ©Ÿèƒ½ã®ãŸã‚ã« _è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿_ ã¸è¨˜è¿°ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã®è¨˜æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

- <<extensions-conditions-deactivation>>
- <<launcher-api-listeners-custom-deactivation>>

// If the value for the given _configuration parameter_ consists solely of an asterisk
// (`+*+`), the pattern will match against all candidate classes. Otherwise, the value will
// be treated as a comma-separated list of patterns where each pattern will be matched
// against the fully qualified class name (_FQCN_) of each candidate class. Any dot (`.`) in
// a pattern will match against a dot (`.`) or a dollar sign (`$`) in a FQCN. Any asterisk
// (`+*+`) will match against one or more characters in a FQCN. All other characters in a
// pattern will be matched one-to-one against a FQCN.
è¨­å®šå€¤ã®æ–‡å­—åˆ—ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ {asterisk} 1ã¤ã ã‘ãªã‚‰ã€å…¨ã¦ã®å€™è£œã‚¯ãƒ©ã‚¹ã«ãƒãƒƒãƒã—ã¾ã™ã€‚
ãã†ã§ãªã‘ã‚Œã°ã€è¨­å®šå€¤ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šæ–‡å­—åˆ—ï¼ˆãã‚Œãã‚Œã®æ–‡å­—åˆ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯å®Œå…¨ä¿®é£¾ã‚¯ãƒ©ã‚¹åï¼ˆFQCNï¼‰ï¼‰ã¨è¦‹åšã—ã¦ã€ãã‚Œãã‚Œã®æ–‡å­—åˆ—ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å€™è£œã‚¯ãƒ©ã‚¹ãŒä¸€è‡´ã™ã‚‹ã‹è©•ä¾¡ã—ã¾ã™ã€‚
æ–‡å­—åˆ—ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸­ã®ãƒ‰ãƒƒãƒˆï¼ˆ`.`ï¼‰ã¯ã€FQCN ä¸­ã®ãƒ‰ãƒƒãƒˆï¼ˆ`.`ï¼‰ã‹ã€ï¼„ãƒãƒ¼ã‚¯ï¼ˆ`$`ï¼‰ã¨ãƒãƒƒãƒã—ã¾ã™ã€‚
æ–‡å­—åˆ—ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸­ã®ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ï¼ˆ{asterisk}ï¼‰ã¯ã€FQCN ä¸­ã®é€£ç¶šã™ã‚‹ä»»æ„ã®1æ–‡å­—ä»¥ä¸Šã®æ–‡å­—åˆ—ã¨ãƒãƒƒãƒã—ã¾ã™ã€‚
ãã‚Œä»¥å¤–ã®æ–‡å­—ã¯ã€FQCN ä¸­ã®åŒã˜æ–‡å­—ã¨ãƒãƒƒãƒã—ã¾ã™ã€‚

// Examples:
å…·ä½“ä¾‹ã§ã™ã€‚

// - `+*+`: matches all candidate classes.
// - `+org.junit.*+`: matches all candidate classes under the `org.junit` base package and
//   any of its subpackages.
// - `+*.MyCustomImpl+`: matches every candidate class whose simple class name is exactly
//   `MyCustomImpl`.
// - `+*System*+`: matches every candidate class whose FQCN contains `System`.
// - `+*System*+, +*Unit*+`: matches every candidate class whose FQCN contains `System` or
//   `Unit`.
// - `org.example.MyCustomImpl`: matches the candidate class whose FQCN is exactly
//   `org.example.MyCustomImpl`.
// - `org.example.MyCustomImpl, org.example.TheirCustomImpl`: matches candidate classes whose
//   FQCN is exactly `org.example.MyCustomImpl` or `org.example.TheirCustomImpl`.
- {asterisk}: å…¨ã¦ã®å€™è£œã‚¯ãƒ©ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™
- org.junit.{asterisk}: `org.junit` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ãã®ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é…ç½®ã—ãŸå…¨ã¦ã®å€™è£œã‚¯ãƒ©ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™
  any of its subpackages.
- {asterrisk}.MyCustomImpl: å˜ç´”ã‚¯ãƒ©ã‚¹åãŒ `MyCustomImpl` ã«ãªã‚‹å…¨ã¦ã®å€™è£œã‚¯ãƒ©ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™
- {asterrisk}System{asterrisk}: FQCN ã« `System` ã‚’å«ã‚€å…¨ã¦ã®å€™è£œã‚¯ãƒ©ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™
- {asterrisk}System{asterrisk}, {asterrisk}Unit{asterrisk}: FQCN ã« `System` ã‚ã‚‹ã„ã¯ `Unit` ã‚’å«ã‚€å…¨ã¦ã®å€™è£œã‚¯ãƒ©ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™
- `org.example.MyCustomImpl`: FQCN ãŒå®Œå…¨ã« `org.example.MyCustomImpl` ã¨ä¸€è‡´ã™ã‚‹å€™è£œã‚¯ãƒ©ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™
- `org.example.MyCustomImpl, org.example.TheirCustomImpl`: FQCN ãŒå®Œå…¨ã« `org.example.MyCustomImpl` ã¨ä¸€è‡´ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ `org.example.TheirCustomImpl` ã¨ä¸€è‡´ã™ã‚‹å€™è£œã‚¯ãƒ©ã‚¹ã¨ãƒãƒƒãƒã—ã¾ã™

[[running-tests-tags]]
=== ã‚¿ã‚°

// Tags are a JUnit Platform concept for marking and filtering tests. The programming model
// for adding tags to containers and tests is defined by the testing framework. For example,
// in JUnit Jupiter based tests, the `@Tag` annotation (see
// <<writing-tests-tagging-and-filtering>>) should be used. For JUnit 4 based tests, the
// Vintage engine maps `@Category` annotations to tags (see
// <<migrating-from-junit4-categories-support>>). Other testing frameworks may define their
// own annotation or other means for users to specify tags.
ã‚¿ã‚°ã¯ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã«å°ã‚’ä»˜ã‘ãŸã‚Šã€ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é¸æŠã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™ã€‚
ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠã‚„ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã«ã‚¿ã‚°ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã¯ã€ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒæä¾›ã—ã¦ã„ã¾ã™ã€‚
ä¾‹ãˆã°ã€JUnit Jupiter ã§ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ãªã‚‰ `@Tag` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ<<writing-tests-tagging-and-filtering>> ã‚’å‚ç…§ï¼‰ã‚’ä½¿ç”¨ã—ã€JUnit 4 ã§ä½œæˆã—ãŸãƒ†ã‚¹ãƒˆãªã‚‰ Vintage ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ãŒ `@Category` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¿ã‚°ã«å†™åƒã—ã¾ã™ï¼ˆ<<migrating-from-junit4-categories-support>> ã‚’å‚ç…§ï¼‰ã€‚
ä»–ã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¿ã‚°ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹ç‹¬è‡ªã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã€‚

[[running-tests-tag-syntax-rules]]
==== ã‚¿ã‚°ã®æ§‹æ–‡è¦å‰‡

// Regardless how a tag is specified, the JUnit Platform enforces the following rules:
ã‚¿ã‚°ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ãŒãªã‚“ã§ã‚ã‚Œã€JUnit Platform ã¯æ¬¡ã®è¦å‰‡ã§è§£é‡ˆã—ã¾ã™ã€‚

// * A tag must not be `null` or _blank_.
// * A _trimmed_ tag must not contain whitespace.
// * A _trimmed_ tag must not contain ISO control characters.
// * A _trimmed_ tag must not contain any of the following _reserved characters_.
// - `,`: _comma_
// - `(`: _left parenthesis_
// - `)`: _right parenthesis_
// - `&`: _ampersand_
// - `|`: _vertical bar_
// - `!`: _exclamation point_
* `null` ã‚„ _ç©ºç™½æ–‡å­—_ ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“
* ãƒˆãƒªãƒ ã—ãŸã‚¿ã‚°å€¤ã«ã¯ã€ç©ºç™½æ–‡å­—ã‚’ä½¿ç”¨ã§ãã¾ã›ã‚“
* ãƒˆãƒªãƒ ã—ãŸã‚¿ã‚°å€¤ã«ã¯ã€ISO åˆ¶å¾¡æ–‡å­—ã‚’ä½¿ç”¨ã§ãã¾ã›ã‚“
* ãƒˆãƒªãƒ ã—ãŸã‚¿ã‚°å€¤ã«ã¯ã€æ¬¡ã®ã„ãšã‚Œã‹ã®æ–‡å­—ï¼ˆ_äºˆç´„æ–‡å­—_ï¼‰ã‚’ä½¿ç”¨ã§ãã¾ã›ã‚“
- `,`: _ã‚«ãƒ³ãƒ_
- `(`: _é–‹ãæ‹¬å¼§_
- `)`: _é–‰ã˜æ‹¬å¼§_
- `&`: _ã‚¢ãƒ³ãƒ‘ã‚µãƒ³ãƒ‰_
- `|`: _ç¸¦ç·š_
- `!`: _æ„Ÿå˜†ç¬¦_

NOTE: In the above context, "trimmed" means that leading and trailing whitespace
characters have been removed.
NOTE: ã€Œãƒˆãƒªãƒ ã—ãŸã€ã¨ã„ã†ã®ã¯ã€æ–‡å­—åˆ—ã®å…ˆé ­ã‚„æœ«å°¾ã‹ã‚‰é€£ç¶šã™ã‚‹1æ–‡å­—ä»¥ä¸Šã®ç©ºç™½æ–‡å­—ã‚’å‰Šé™¤ã™ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

[[running-tests-tag-expressions]]
==== ã‚¿ã‚°è¨˜æ³•

// Tag expressions are boolean expressions with the operators `!`, `&` and `|`. In addition,
// `(` and `)` can be used to adjust for operator precedence.
ã‚¿ã‚°è¨˜æ³•ã¯ `!` ã¨ `&` ã¨ `|` ã‚’æ¼”ç®—å­ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ãƒ–ãƒ¼ãƒ«å¼ã§ã™ã€‚
`(` ã¨ `)` ã§æ¼”ç®—å­ã®å„ªå…ˆåº¦ã‚’å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

// Two special expressions are supported, `any()` and `none()`, which select all tests _with_
// any tags at all, and all tests _without_ any tags, respectively.
// These special expressions may be combined with other expressions just like normal tags.
ç‰¹æ®Šè¨˜æ³•ã¨ã—ã¦ `any()` ã¨ `none()` ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚
å‰è€…ã¯ã‚ã‚‰ã‚†ã‚‹ã‚¿ã‚°ã¨ _ä¸€è‡´ã™ã‚‹_ ã“ã¨ã‚’è©•ä¾¡ã—ã€å¾Œè€…ã¯ã‚ã‚‰ã‚†ã‚‹ã‚¿ã‚°ã¨ _ä¸€è‡´ã—ãªã„_ ã“ã¨ã‚’è©•ä¾¡ã—ã¾ã™ã€‚
ã“ã‚Œã‚‰ã®ç‰¹æ®Šè¨˜æ³•ã¯é€šå¸¸ã®ã‚¿ã‚°è¨˜æ³•ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚

// .Operators (in descending order of precedence)
// |===
// | Operator | Meaning | Associativity
//
// | `!`      | not     | right
// | `&`      | and     | left
// | `\|`     | or      | left
// |===
.æ¼”ç®—å­ã®å„ªå…ˆåº¦ï¼ˆé™é †ï¼šä¸Šã®ã»ã†ãŒå„ªå…ˆï¼‰
|===
| æ¼”ç®—å­   | æ„å‘³    | çµåˆã®æ–¹å‘

| `!`      | å¦å®š    | å³
| `&`      | ã‹ã¤    | å·¦
| `\|`     | ã‚ã‚‹ã„ã¯| å·¦
|===

// If you are tagging your tests across multiple dimensions, tag expressions help you to
// select which tests to execute. When tagging by test type (e.g., _micro_, _integration_,
// _end-to-end_) and feature (e.g., *product*, *catalog*, *shipping*), the following tag
// expressions can be useful.
ãƒ†ã‚¹ãƒˆã‚’è¤‡æ•°ã®è»¸ã§ã‚¿ã‚°ä»˜ã‘ã—ã¦ã„ã‚‹ã¨ãã¯ã€ã‚¿ã‚°è¨˜æ³•ã‚’ä½¿ã†ã¨å®Ÿè¡Œã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’é¸æŠã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚
ã‚¿ã‚°ã§ãƒ†ã‚¹ãƒˆç¨®é¡ï¼ˆ_micro_ã€_integration_ã€_end-to-end_ ãªã©ï¼‰ã‚„æ©Ÿèƒ½ï¼ˆ*product*ã€*catalog*ã€*shipping* ãªã©ï¼‰ã‚’èª¬æ˜ã—ã¦ã„ã‚‹ã¨ãã¯ã€æ¬¡ã®ã‚ˆã†ã«ä½¿ç”¨ã§ãã¾ã™ã€‚

// [%header,cols="40,60"]
// |===
// | Tag Expression
// | Selection

// | +product+
// | all tests for *product*

// | +catalog \| shipping+
// | all tests for *catalog* plus all tests for *shipping*

// | +catalog & shipping+
// | all tests for the intersection between *catalog* and *shipping*

// | +product & !end-to-end+
// | all tests for *product*, but not the _end-to-end_ tests

// | +(micro \| integration) & (product \| shipping)+
// | all _micro_ or _integration_ tests for *product* or *shipping*
// |===
|===
| ã‚¿ã‚°è¨˜æ³•
| é¸æŠã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹

| +product+
| *product* ã‚’æŒ‡å®šã—ãŸãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹

| +catalog \| shipping+
| *catalog* ã‚ã‚‹ã„ã¯ *shipping* ã‚’æŒ‡å®šã—ãŸãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹

| +catalog & shipping+
| *catalog* ã¨ *shipping* ã‚’æŒ‡å®šã—ãŸãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹

| +product & !end-to-end+
| *product* ã‚’æŒ‡å®šã—ãŸãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®ä¸­ã§ *end-to-end* ã‚’æŒ‡å®šã—ã¦ã„ãªã„ã‚‚ã®

| +(micro \| integration) & (product \| shipping)+
| _micro_ ã‚ã‚‹ã„ã¯ _integration_ ã‚’æŒ‡å®šã—ãŸãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®ä¸­ã§ *product* ã‚ã‚‹ã„ã¯ *shipping* ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã‚‚ã®
|===

[[running-tests-capturing-output]]
=== æ¨™æº–å‡ºåŠ›ã‚„æ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã™ã‚‹

// Since version 1.3, the JUnit Platform provides opt-in support for capturing output
// printed to `System.out` and `System.err`. To enable it, set the
// `junit.platform.output.capture.stdout` and/or `junit.platform.output.capture.stderr`
// <<running-tests-config-params, configuration parameter>> to `true`. In addition, you may
// configure the maximum number of buffered bytes to be used per executed test or container
// using `junit.platform.output.capture.maxBuffer`.
JUnit Platform ã¯ 1.3 ã‹ã‚‰ `System.out` ã¨ `System.err` ã«å‡ºåŠ›ã—ãŸå†…å®¹ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã™ã‚‹æ©Ÿèƒ½ã‚’ã‚ªãƒ—ãƒˆã‚¤ãƒ³æ–¹å¼ã§æä¾›ã—ã¦ã„ã¾ã™ã€‚
ã“ã®æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã«ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ<<running-tests-config-params>> ã‚’å‚ç…§ï¼‰ã§ `junit.platform.output.capture.stdout` ã‚ã‚‹ã„ã¯ `junit.platform.output.capture.stderr` ã« `true` ã‚’è¨­å®šã—ã¾ã™ã€‚
ã¾ãŸã€å®Ÿè¡Œæ™‚ã®å‡ºåŠ›ãƒãƒƒãƒ•ã‚¡ã‚µã‚¤ã‚ºã‚’ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠã‚„ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã”ã¨ã«å¤‰æ›´ã™ã‚‹ã¨ãã¯ `junit.platform.output.capture.maxBuffer` ã‚’è¨­å®šã—ã¾ã™ã€‚

// If enabled, the JUnit Platform captures the corresponding output and publishes it as a
// report entry using the `stdout` or `stderr` keys to all registered
// `{TestExecutionListener}` instances immediately before reporting the test or container as
// finished.
ã“ã®æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹ã¨ã€JUnit Platform ã¯æ¨™æº–å‡ºåŠ›ï¼ˆæ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ï¼‰ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã—ã¾ã™ã€‚
ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã—ãŸå†…å®¹ã¯ã€ç™»éŒ²æ¸ˆã¿ã® `{TestExecutionListener}` ã¸ç™ºè¡Œã™ã‚‹ãƒ¬ãƒãƒ¼ãƒˆæƒ…å ±ã®ã‚­ãƒ¼ `stdout`ï¼ˆ`stderr`ï¼‰ã§å‚ç…§ã§ãã¾ã™ã€‚
ãƒªã‚¹ãƒŠãƒ¼ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠã‚„ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã®å®Ÿè¡ŒãŒå®Œäº†ã™ã‚‹å‰ã«ã€ãƒ¬ãƒãƒ¼ãƒˆæƒ…å ±ã‚’å‚ç…§ã§ãã¾ã™ã€‚

// Please note that the captured output will only contain output emitted by the thread that
// was used to execute a container or test. Any output by other threads will be omitted
// because particularly when
// <<writing-tests-parallel-execution, executing tests in parallel>> it would be impossible
// to attribute it to a specific test or container.
ãªãŠã€ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠã‚„ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’å®Ÿè¡Œã—ãŸã‚¹ãƒ¬ãƒƒãƒ‰ãŒæ¨™æº–å‡ºåŠ›ï¼ˆæ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ï¼‰ã«å‡ºåŠ›ã—ãŸå†…å®¹ã—ã‹ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ã§ãã¾ã›ã‚“ã€‚
ä»–ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒå‡ºåŠ›ã—ãŸå†…å®¹ã¯ç„¡è¦–ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã—ã€ç‰¹ã« <<writing-tests-parallel-execution, ä¸¦åˆ—å®Ÿè¡Œ>> ã•ã›ã¦ã„ã‚‹å ´åˆã¯ã€ã©ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠã‚„ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ãŒå‡ºåŠ›ã—ãŸå†…å®¹ãªã®ã‹ã€å¾Œã‹ã‚‰åŒºåˆ¥ã§ãã¾ã›ã‚“ã€‚

[[running-tests-listeners]]
=== ãƒªã‚¹ãƒŠãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹

// The JUnit Platform provides the following listener APIs that allow JUnit, third parties,
// and custom user code to react to events fired at various points during the discovery and
// execution of a `TestPlan`.
JUnit Platform ã®æä¾›ã™ã‚‹ãƒªã‚¹ãƒŠãƒ¼APIã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€`TestPlan` ãŒãƒ†ã‚¹ãƒˆã‚’ç™ºè¦‹ã—ãŸã‚Šå®Ÿè¡Œã—ãŸã‚Šã™ã‚‹é€”ä¸­ã®ã•ã¾ã–ã¾ãªãƒã‚¤ãƒ³ãƒˆã§ç™ºç«ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«ã€JUnit ã‚„ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã‘ã§ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆã—ãŸã‚³ãƒ¼ãƒ‰ãŒåå¿œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

// * `{LauncherSessionListener}`: receives events when a `{LauncherSession}` is opened and
//   closed.
// * `{LauncherDiscoveryListener}`: receives events that occur during test discovery.
// * `{TestExecutionListener}`: receives events that occur during test execution.
* `{LauncherSessionListener}`: `{LauncherSession}` ãŒé–‹ã‹ã‚ŒãŸã€ã‚ã‚‹ã„ã¯ã€é–‰ã˜ã‚‰ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã—ã¾ã™
* `{LauncherDiscoveryListener}`: ãƒ†ã‚¹ãƒˆã®æ¢ç´¢ä¸­ã«ç™ºç”Ÿã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã—ã¾ã™
* `{TestExecutionListener}`: ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œä¸­ã«ç™ºç”Ÿã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã—ã¾ã™

// The `LauncherSessionListener` API is typically implemented by build tools or IDEs and
// registered automatically for you in order to support some feature of the build tool or IDE.
åŸºæœ¬çš„ã« `LauncherDiscoveryListener` API ã‚’ä½¿ç”¨ã™ã‚‹ã®ã¯ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚„ IDE ãŒç‹¬è‡ªã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãŸã‚ã§ã™ã€‚
ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«è‡ªå‹•çš„ã«ç™»éŒ²ã™ã‚‹å ´åˆãŒå¤šã„ã§ã—ã‚‡ã†ã€‚

// The `LauncherDiscoveryListener` and `TestExecutionListener` APIs are often implemented in
// order to produce some form of report or to display a graphical representation of the test
// plan in an IDE. Such listeners may be implemented and automatically registered by a build
// tool or IDE, or they may be included in a third-party library â€“ potentially registered
// for you automatically. You can also implement and register your own listeners.
`LauncherDiscoveryListener` ã¨ `TestExecutionListener` API ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã®ã¯ã€ä»»æ„ã®å½¢å¼ã®ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ãŸã‚Šã€IDE å†…ã® GUI ã§ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œè¨ˆç”»ã‚’è¡¨ç¤ºã—ãŸã‚Šã™ã‚‹å ´åˆã§ã™ã€‚
ã‚„ã¯ã‚Šãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚„ IDE ã®æä¾›ã™ã‚‹å®Ÿè£…ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè¡Œæ™‚ã«è‡ªå‹•çš„ã«ç™»éŒ²ã™ã‚‹å ´åˆãŒå¤šã„ã§ã—ã‚‡ã†ã€‚
ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å«ã‚€å ´åˆã‚‚ã‚ã‚‹ã‚ˆã†ã§ã™ï¼ˆã„ãšã‚Œã«ã—ã¦ã‚‚è‡ªå‹•çš„ã«ç™»éŒ²ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ï¼‰ã€‚
ç‹¬è‡ªã®ãƒªã‚¹ãƒŠãƒ¼ã‚’å®Ÿè£…ã€ç™»éŒ²ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

// For details on registering and configuring listeners, see the following sections of this
// guide.
ãƒªã‚¹ãƒŠãƒ¼ã‚’ç™»éŒ²ã—ãŸã‚Šæ§‹æˆã—ãŸã‚Šã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯æ¬¡ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

* <<launcher-api-launcher-session-listeners-custom>>
* <<launcher-api-launcher-discovery-listeners-custom>>
* <<launcher-api-listeners-custom>>
* <<launcher-api-listeners-config>>
* <<launcher-api-listeners-custom-deactivation>>

// The JUnit Platform provides the following listeners which you may wish to use with your
// test suite.
JUnit Platform ã¯æ¬¡ã®ã‚ˆã†ãªãƒªã‚¹ãƒŠãƒ¼ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

// <<running-tests-listeners-flight-recorder>> ::
//   `FlightRecordingExecutionListener` and `FlightRecordingDiscoveryListener` that generate
//   Java Flight Recorder events during test discovery and execution.
//
// `{LegacyXmlReportGeneratingListener}` ::
//   `TestExecutionListener` that generates XML reports compatible with the de facto
//   standard for JUnit 4 based test reports. See <<junit-platform-reporting>> for
//   details.
//
// `{LoggingListener}` ::
//   `TestExecutionListener` for logging informational messages for all events via a
//   `BiConsumer` that consumes `Throwable` and `Supplier<String>`.
//
// `{SummaryGeneratingListener}` ::
//   `TestExecutionListener` that generates a summary of the test execution which can be
//   printed via a `PrintWriter`.
//
// `{UniqueIdTrackingListener}` ::
//   `TestExecutionListener` that that tracks the unique IDs of all tests that were skipped
//   or executed during the execution of the `TestPlan` and generates a file containing the
//   unique IDs once execution of the `TestPlan` has finished.
<<running-tests-listeners-flight-recorder>> ::
  `FlightRecordingExecutionListener` ã¨ `FlightRecordingDiscoveryListener`ã€‚
  ãƒ†ã‚¹ãƒˆã®æ¢ç´¢æ™‚ã¨å®Ÿè¡Œæ™‚ã« Java Flight Recorder ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºè¡Œã—ã¾ã™ã€‚

`{LegacyXmlReportGeneratingListener}` ::
  `TestExecutionListener` ãŒã€JUnit 4 ã®ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆå½¢å¼ã¨ã—ã¦äº‹å®Ÿä¸Šã®æ¨™æº–ã«ãªã£ã¦ã„ã‚‹ XML å½¢å¼ã®ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚
  è©³ã—ãã¯ <<junit-platform-reporting>> ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

`{LoggingListener}` ::
  `TestExecutionListener` ã®ç”Ÿæˆã™ã‚‹å…¨ã¦ã®ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ `BiConsumer` ã®æ¶ˆè²»ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦ç”Ÿæˆã—ã¾ã™ï¼ˆ`Throwable` ã¨ `Supplier<String>` ã¨ã—ã¦æ¸¡ã—ã¾ã™ï¼‰ã€‚

`{SummaryGeneratingListener}` ::
  `TestExecutionListener` ãŒå®Ÿè¡Œã—ãŸãƒ†ã‚¹ãƒˆã®æ¦‚è¦ã‚’ `PrintWriter` ã§ï¼ˆæ¨™æº–å‡ºåŠ›ã«ï¼‰å‡ºåŠ›ã—ã¾ã™ã€‚

`{UniqueIdTrackingListener}` ::
  `TestExecutionListener` ã®å®Ÿè¡Œã™ã‚‹ `TestPlan` ãŒã‚¹ã‚­ãƒƒãƒ—ãŠã‚ˆã³å®Ÿè¡Œã—ãŸå…¨ã¦ã®ãƒ†ã‚¹ãƒˆãã‚Œãã‚Œã«å›ºæœ‰ã® ID ã‚’å‰²ã‚Šå½“ã¦ã¦è¿½è·¡ã—ã€ `TestPlan` ãŒå®Œäº†ã—ãŸã‚‰è¿½è·¡ã—ãŸå…¨ã¦ã® ID ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜éŒ²ã—ã¾ã™ã€‚

[[running-tests-listeners-flight-recorder]]
==== Java Flight Recorder ã‚’ä½¿ç”¨ã™ã‚‹

// Since version 1.7, the JUnit Platform provides opt-in support for generating Flight
// Recorder events. https://openjdk.java.net/jeps/328[JEP 328] describes the Java Flight
// Recorder (JFR) as:
JUnit Platform ã¯ 1.7 ã‹ã‚‰ Java Flight Recorder ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹æ©Ÿèƒ½ã‚’ã‚ªãƒ—ãƒˆã‚¤ãƒ³æ–¹å¼ã§æä¾›ã—ã¦ã„ã¾ã™ã€‚
https://openjdk.java.net/jeps/328[JEP 328] ã¯ Java Flight Recorderï¼ˆJFRï¼‰ã‚’æ¬¡ã®ã‚ˆã†ã«èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚

// NOTE: Flight Recorder records events originating from applications, the JVM and the OS.
// Events are stored in a single file that can be attached to bug reports and examined by
// support engineers, allowing after-the-fact analysis of issues in the period leading up
// to a problem.
NOTE: Flight Recorder ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆJVM ã‚„ OSï¼‰ã®ç”Ÿæˆã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨˜éŒ²ã—ã¾ã™ã€‚
ã‚¤ãƒ™ãƒ³ãƒˆã¯å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã¸è¨˜éŒ²ã—ã¾ã™ã€‚
ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨˜éŒ²ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒã‚°å ±å‘Šã¸æ·»ä»˜ã—ãŸã‚Šã€ã‚µãƒãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒèª¿æŸ»ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ãŸã‚Šã§ãã‚‹ã®ã§ã€å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã¾ã§ã«èµ·ãã¦ã„ãŸã“ã¨ã‚’å¾Œã‹ã‚‰åˆ†æã§ãã¾ã™ã€‚

// In order to record Flight Recorder events generated while running tests, you need to:
ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ãªãŒã‚‰ Flight Recorder ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨˜éŒ²ã™ã‚‹ã«ã¯æ¬¡ã®ã‚ˆã†ãªè¨­å®šã‚’ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

// 1. Ensure that you are using either Java 8 Update 262 or higher or Java 11 or later.
// 2. Provide the `org.junit.platform.jfr` module (`junit-platform-jfr-{platform-version}.jar`)
//    on the class-path or module-path at test runtime.
// 3. Start flight recording when launching a test run. Flight Recorder can be started via
//    java command line option:
//
//    -XX:StartFlightRecording:filename=...
1. Java 8 Update 262 ä»¥é™ã€ã‚ã‚‹ã„ã¯ Java 11 ä»¥é™ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
2. `org.junit.platform.jfr` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ`junit-platform-jfr-{platform-version}.jar`ï¼‰ã‚’ã€ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã®å‚ç…§ã§ãã‚‹ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¹ã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ‘ã‚¹ã¸é…ç½®ã—ã¾ã™ã€‚
3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«ãƒ•ãƒ©ã‚¤ãƒˆãƒ¬ã‚³ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ JVM ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã«æ¬¡ã®ã‚ˆã†ãªãƒ•ãƒ©ã‚°ã‚’æŒ‡å®šã—ã¾ã™ã€‚

   -XX:StartFlightRecording:filename=...

// Please consult the manual of your build tool for the appropriate commands.
é©åˆ‡ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’æ§‹æˆã™ã‚‹ã«ã¯ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

// To analyze the recorded events, use the
// https://docs.oracle.com/en/java/javase/14/docs/specs/man/jfr.html[jfr]
// command line tool shipped with recent JDKs or open the recording file with
// https://jdk.java.net/jmc/[JDK Mission Control].
JDK ã¨ä¸€ç·’ã«é…å¸ƒã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã® https://docs.oracle.com/en/java/javase/14/docs/specs/man/jfr.html[jfr] ã‚„ã€https://jdk.java.net/jmc/[JDK Mission Control] ã‚’ä½¿ç”¨ã™ã‚Œã°ã€è¨˜éŒ²ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚’åˆ†æã§ãã¾ã™ã€‚

// WARNING: Flight Recorder support is currently an _experimental_ feature. You're invited to
// give it a try and provide feedback to the JUnit team so they can improve and eventually
// <<api-evolution, promote>> this feature.
WARNING: ä»Šã®ã¨ã“ã‚ Flight Recorder ã®ã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²æ©Ÿèƒ½ã¯ _å®Ÿé¨“çš„ãªæ©Ÿèƒ½ã§ã™_ã€‚
JUnit ãƒãƒ¼ãƒ ãŒã“ã®æ©Ÿèƒ½ã‚’æ”¹å–„ã—ã¦ã€æ­£å¼æ©Ÿèƒ½ã¸ <<api-evolution, æ˜‡æ ¼>> ã§ãã‚‹ã‚ˆã†ã€è©¦ç”¨ã—ã¦ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚
